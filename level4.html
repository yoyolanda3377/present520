
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>第四关：厦门一日游</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Helvetica Neue', sans-serif;
      color: white;
      background-color: black;
      overflow: hidden;
      position: relative;
      height: 100vh;
    }
    #background {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: auto;
      height: 100%;
      object-fit: cover;
      z-index: -1;
      transition: opacity 1s ease;
    }
    #dialogue-box {
      position: absolute;
      bottom: 0;
      width: 100%;
      background: rgba(0,0,0,0.7);
      padding: 20px;
    }
    #text {
      font-size: 1.2rem;
      line-height: 1.6;
    }
    .options {
      margin-top: 10px;
    }
    .option-btn {
      background: #ff99bb;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 20px;
      margin: 5px;
      font-size: 1rem;
      cursor: pointer;
    }
    .option-btn:hover {
      background-color: #ff6699;
    }
    #letter {
      display: none;
      position: absolute;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      background: #fff0f5;
      color: #cc3366;
      padding: 20px;
      border-radius: 12px;
      width: 90%;
      max-width: 400px;
      box-shadow: 0 0 10px rgba(0,0,0,0.4);
      text-align: left;
    }
    #letter-close {
      margin-top: 20px;
      background-color: #ff99bb;
      color: white;
      padding: 10px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <button class="next-btn" onclick="window.location.href='index.html'">返回主页 🏠</button>
  <img id="background" src="images/xiamen1.jpg" alt="初始背景">

  <div id="dialogue-box">
    <div id="text">鼓浪屿我们慢慢走，中山路我们疯狂吃，骑车穿过闹市在演武大桥看夕阳——厦门一天的风吹过我整颗心。</div>
    <div class="options" id="options">
      <button class="option-btn" onclick="choose(0)">牵手沿海边散步的鼓浪屿浪漫吧？</button>
      <button class="option-btn" onclick="choose(1)">我们在厦大门口装学生情侣、骑单车穿过整座城，是不是太会了？</button>
      <button class="option-btn" onclick="choose(2)">我饿得像小猫一样的时候是不是有点闹腾？</button>
    </div>
  </div>

  <div id="letter">
    <p>鼓浪屿的风、中山路的味道、演武桥的夕阳……<br>
我都以为自己记得的是风景，<br>
结果发现，最清楚的记忆，是你回头笑的那一瞬。<br>
那天我吃很饱，走很累，却觉得我真的好爱你。

</p>
    <button id="letter-close" onclick="window.location.href='index.html'">返回主页</button>
  </div>

  <script>
    const bg = document.getElementById("background");
    const dialogue = document.getElementById("text");
    const options = document.getElementById("options");
    const letter = document.getElementById("letter");

    const branches = [
      {
        img: "images/xiamen2.jpg",
        lines: [
          "你笑得很无辜，但手心都快冒烟了，别装了。",
          "你：我这是体温高，我没心虚。",
          "我：行吧，是我想牵你，好感度+10，真诚永远加分。"
        ]
      },
      {
        img: "images/xiamen3.jpg",
        lines: [
          "你： 你戴着墨镜，我穿得像要去考四六级，我们站在校门口一脸“在读”的样子。",
          "我：你穿得乖乖的，我一看就想配个格子衬衫走你身边当工具人男友。",
          "你： 后来骑车穿城那段，我都觉得我们像是校园剧里刚脱团的主角，风也给我们让路。"
        ]
      },
      {
        img: "images/xiamen4.jpg",
        lines: [
          "我：你饿的时候真的很像一只小猫，眼睛瞪大大还皱眉。",
          "你：我饿得快生气了你还慢悠悠挑哪家不踩雷。",
          "我：但你闹完后吃得特别乖，像只被喂饱的猫。"
        ]
      }
    ];

    let step = 0;
    let chosen = 0;

    function choose(index) {
      chosen = index;
      options.style.display = "none";
      bg.src = branches[index].img;
      showNextLine();
    }

    function showNextLine() {
      if (step < branches[chosen].lines.length) {
        dialogue.innerText = branches[chosen].lines[step];
        step++;
        setTimeout(showNextLine, 2200);
      } else {
        document.getElementById("dialogue-box").style.display = "none";
        letter.style.display = "block";
      }
    }
  </script>
</body>
</html>
